<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Futures Trading - Smart Investments</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .marquee-container {
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            background-color: #e0f7e9;
            padding: 10px 0;
            z-index: 10;
        }

        .marquee {
            display: inline-block;
            animation: marquee 30s linear infinite;
            font-size: 1rem;
            color: #4CAF50;
        }

        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 3rem 0;
            text-align: center;
            position: relative;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .auth-container {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
        }
        
        .auth-buttons {
            display: none !important;
            flex-direction: column;
            position: absolute;
            top: 50px;
            right: 10px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            padding: 10px;
            z-index: 1001;
            min-width: 120px;
        }
        
        .auth-buttons.show {
            display: flex !important;
        }
        
        .auth-button {
            padding: 8px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            white-space: nowrap;
            margin: 5px 0;
            color: #1e3c72;
        }
        
        .auth-button:hover {
            background-color: #f0f4f8;
        }
        
        .menu-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1002;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1.5rem;
        }
        
        .cta-button {
            display: inline-block;
            background-color: #4CAF50;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .cta-button:hover {
            background-color: #45a049;
            transform: translateY(-2px);
        }

        .news-section {
            padding: 2rem 0;
            background-color: white;
            text-align: center;
        }

        .news-sidebar {
            width: 400px;
            height: 200px;
            overflow: hidden;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin: 0 auto;
        }

        .slider {
            display: flex;
            width: 1600px;
            transition: transform 0.5s ease-in-out;
        }

        .slide {
            width: 400px;
            height: 200px;
            object-fit: cover;
        }
        
        .features {
            padding: 4rem 0;
            background-color: white;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .feature-card {
            background-color: #f9f9f9;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
        }
        
        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #2a5298;
        }
        
        .plans {
            padding: 4rem 0;
            background-color: #f5f7fa;
        }
        
        .plans-title {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .plan-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            min-height: 400px;
        }
        
        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .basic-header {
            background: linear-gradient(135deg, #CD7F32 0%, #B87333 100%);
            color: #FFFFFF;
            padding: 1.5rem;
            text-align: center;
        }
        
        .standard-header {
            background: linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%);
            color: #1e3c72;
            padding: 1.5rem;
            text-align: center;
        }
        
        .premium-header {
            background: linear-gradient(135deg, #FFD700 0%, #DAA520 100%);
            color: #1e3c72;
            padding: 1.5rem;
            text-align: center;
        }
        
        .platinum-header {
            background: linear-gradient(135deg, #E5E4E2 0%, #D4D3D1 100%);
            color: #1e3c72;
            padding: 1.5rem;
            text-align: center;
        }
        
        .plan-name {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .plan-duration {
            opacity: 0.9;
            font-size: 0.9rem;
        }
        
        .plan-body {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: calc(100% - 80px);
        }
        
        .plan-amount {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .plan-return {
            background-color: #f0f4f8;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .return-percentage {
            font-size: 1.8rem;
            color: #4CAF50;
            font-weight: bold;
        }
        
        .invest-button {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .invest-button:hover {
            background-color: #45a049;
        }
        
        .amount-dropdown {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 1rem;
            margin-top: 10px;
            display: none;
        }
        
        .about {
            padding: 4rem 0;
            background-color: white;
        }
        
        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        .testimonials {
            padding: 4rem 0;
            background-color: #f5f7fa;
        }
        
        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .testimonial-card {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .testimonial-text {
            font-style: italic;
            margin-bottom: 1rem;
        }
        
        .testimonial-author {
            font-weight: bold;
            text-align: right;
        }
        
        footer {
            background-color: #1e3c72;
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .footer-link {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }
        
        .footer-link:hover {
            opacity: 0.8;
        }
        
        .copyright {
            opacity: 0.8;
            font-size: 0.9rem;
        }

        #online-popup {
            position: fixed;
            bottom: 50px;
            right: 20px;
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: none;
            z-index: 1000;
            font-size: 0.9rem;
        }

        @media (min-width: 768px) {
            .auth-buttons.show {
                display: flex !important;
                flex-direction: row;
                position: static;
                background: none;
                box-shadow: none;
                padding: 0;
                gap: 10px;
            }
            
            .menu-toggle {
                display: flex;
            }
            
            .news-sidebar {
                width: 500px;
                height: 250px;
            }

            .slider {
                width: 2000px;
            }

            .slide {
                width: 500px;
                height: 250px;
            }
        }

        @media (max-width: 767px) {
            h1 {
                font-size: 2rem;
            }

            .news-sidebar {
                width: 300px;
                height: 150px;
            }

            .slider {
                width: 1200px;
            }

            .slide {
                width: 300px;
                height: 150px;
            }

            .cta-button {
                padding: 10px 20px;
            }
        }

        /* Chatbot Styles */
        .chatbot-container {
            position: fixed;
            bottom: 90px;
            right: 20px;
            z-index: 1000;
        }
        
        .chatbot-toggle {
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .chatbot-toggle:hover {
            background-color: #004494;
        }
        
        .chatbot-window {
            display: none;
            background-color: white;
            width: 300px;
            height: 400px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin-top: 10px;
        }
        
        .chatbot-header {
            background-color: #003366;
            color: white;
            padding: 10px;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chatbot-body {
            height: 300px;
            overflow-y: auto;
            padding: 10px;
            background-color: #f8f9fa;
        }
        
        .chatbot-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            max-width: 80%;
            line-height: 1.4;
            font-size: 0.9rem;
        }
        
        .bot-message {
            background-color: #0056b3;
            color: white;
            margin-left: auto;
        }
        
        .user-message {
            background-color: #e9ecef;
            color: #212529;
            margin-right: auto;
        }
        
        .chatbot-input {
            display: flex;
            border-top: 1px solid #eee;
            padding: 10px;
            background-color: white;
        }
        
        #chatbotToggle {
            font-size: 24px;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 10px;
            font-size: 14px;
        }
        
        .chatbot-input input:focus {
            border-color: #0056b3;
            outline: none;
            box-shadow: 0 0 5px rgba(0, 86, 179, 0.3);
        }
        
        .chatbot-input button {
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 8px 12px;
            cursor: pointer;
        }
        
        .chatbot-input button:hover {
            background-color: #004494;
        }
        
        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1rem;
            cursor: pointer;
        }

        /* Bottom Navigation Styles */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #f0f0f0;
            display: flex;
            justify-content: space-around;
            padding: 0px 0;
            border-top: 1px solid #ddd;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #333;
            font-size: 0.8rem;
            transition: color 0.3s ease;
        }

        .nav-item:hover {
            color: #4CAF50;
        }

        .nav-icon {
            font-size: 1.5rem;
            margin-bottom: 0px;
        }

        .nav-item.active {
            color: #4CAF50;
            font-weight: 600;
        }

        @media (min-width: 768px) {
            .bottom-nav {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="marquee-container">
        <div class="marquee" id="withdrawal-marquee"></div>
    </div>

    <header>
        <div class="container">
            <h1 id="hero-title">Futures Trading</h1>
            <p id="hero-subtitle" class="subtitle">Maximize your returns with our proven investment strategies</p>
            <a href="#plans" id="cta-button" class="cta-button">View Investment Plans</a>
            <div class="auth-container">
                <button class="menu-toggle" id="menu-toggle" aria-label="Toggle navigation menu" onclick="toggleAuthButtons()">☰</button>
                <div class="auth-buttons" id="authButtons">
                    <a href="login.html" class="auth-button">Login</a>
                    <a href="registration.html" class="auth-button">Register</a>
                </div>
            </div>
        </div>
    </header>

    <section class="news-section">
        <div class="container">
            <h2>Latest Updates</h2>
            <div class="news-sidebar">
                <div class="slider">
                    <img src="https://raw.githubusercontent.com/hopmos/webimage/main/image55.jpeg" alt="News Update 1" class="slide">
                    <img src="https://raw.githubusercontent.com/hopmos/webimage/main/image2.jpeg" alt="News Update 2" class="slide">
                    <img src="https://raw.githubusercontent.com/hopmos/webimage/main/image44.png" alt="News Update 3" class="slide">
                    <video src="https://raw.githubusercontent.com/hopmos/webimage/main/video1.mp4" class="slide" autoplay loop muted></video>
                </div>
            </div>
        </div>
    </section>
    
    <section class="features">
        <div class="container">
            <h2>Why Choose Us</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">📈</div>
                    <h3>High Returns</h3>
                    <p>Our expert traders deliver consistent profits through sophisticated market analysis.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔒</div>
                    <h3>Secure Platform</h3>
                    <p>State-of-the-art security measures to protect your investments and personal data.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">⏱️</div>
                    <h3>Fast Withdrawals</h3>
                    <p>Get your profits quickly with our streamlined withdrawal process.</p>
                </div>
            </div>
        </div>
    </section>
    
    <section class="plans" id="plans">
        <div class="container">
            <div class="plans-title">
                <h2>Investment Plans</h2>
                <p>Choose the plan that fits your financial goals</p>
            </div>
            
            <div class="plans-grid">
                <div class="plan-card">
                    <div class="basic-header">
                        <h3 class="plan-name">Basic Plan</h3>
                        <p class="plan-duration">7 Days Investment</p>
                    </div>
                    <div class="plan-body">
                        <div class="plan-amount">
                            <p>Investment Amounts:</p>
                            <p>$5 | $10 | $15 | $20</p>
                        </div>
                        <div class="plan-return">
                            <p>Daily Return: <span class="return-percentage">5.72%</span></p>
                            <p>Total Return: 40%</p>
                        </div>
                        <button class="invest-button" onclick="toggleDropdown('basic-dropdown')">Invest Now</button>
                        <select class="amount-dropdown" id="basic-dropdown" onchange="redirectToPayment(this)">
                            <option value="">Select Amount</option>
                            <option value="5" data-link="$5.html">$5</option>
                            <option value="10" data-link="$10.html">$10</option>
                            <option value="15" data-link="$15.html">$15</option>
                            <option value="20" data-link="$20.html">$20</option>
                        </select>
                    </div>
                </div>
                
                <div class="plan-card">
                    <div class="standard-header">
                        <h3 class="plan-name">Standard Plan</h3>
                        <p class="plan-duration">14 Days Investment</p>
                    </div>
                    <div class="plan-body">
                        <div class="plan-amount">
                            <p>Investment Amounts:</p>
                            <p>$30 | $40 | $50 | $60</p>
                        </div>
                        <div class="plan-return">
                            <p>Daily Return: <span class="return-percentage">7.15%</span></p>
                            <p>Total Return: 100%</p>
                        </div>
                        <button class="invest-button" onclick="toggleDropdown('standard-dropdown')">Invest Now</button>
                        <select class="amount-dropdown" id="standard-dropdown" onchange="redirectToPayment(this)">
                            <option value="">Select Amount</option>
                            <option value="30" data-link="$30.html">$30</option>
                            <option value="40" data-link="$40.html">$40</option>
                            <option value="50" data-link="$50.html">$50</option>
                            <option value="60" data-link="$60.html">$60</option>
                        </select>
                    </div>
                </div>
                
                <div class="plan-card">
                    <div class="premium-header">
                        <h3 class="plan-name">Premium Plan</h3>
                        <p class="plan-duration">30 Days Investment</p>
                    </div>
                    <div class="plan-body">
                        <div class="plan-amount">
                            <p>Investment Amounts:</p>
                            <p>$70 | $80 | $90 | $100</p>
                        </div>
                        <div class="plan-return">
                            <p>Daily Return: <span class="return-percentage">9.17%</span></p>
                            <p>Total Return: 275%</p>
                        </div>
                        <button class="invest-button" onclick="toggleDropdown('premium-dropdown')">Invest Now</button>
                        <select class="amount-dropdown" id="premium-dropdown" onchange="redirectToPayment(this)">
                            <option value="">Select Amount</option>
                            <option value="70" data-link="$70.html">$70</option>
                            <option value="80" data-link="$80.html">$80</option>
                            <option value="90" data-link="$90.html">$90</option>
                            <option value="100" data-link="$100.html">$100</option>
                        </select>
                    </div>
                </div>
                
                <div class="plan-card">
                    <div class="platinum-header">
                        <h3 class="plan-name">Platinum Plan</h3>
                        <p class="plan-duration">21 Days Investment</p>
                    </div>
                    <div class="plan-body">
                        <div class="plan-amount">
                            <p>Investment Amounts:</p>
                            <p>$500 | $1,000 | $5,000 | $10,000</p>
                        </div>
                        <div class="plan-return">
                            <p>Daily Return: <span class="return-percentage">20%</span></p>
                            <p>Total Return: 420%</p>
                        </div>
                        <button class="invest-button" onclick="toggleDropdown('platinum-dropdown')">Invest Now</button>
                        <select class="amount-dropdown" id="platinum-dropdown" onchange="redirectToPayment(this)">
                            <option value="">Select Amount</option>
                            <option value="500" data-link="$500.html">$500</option>
                            <option value="1000" data-link="$1000.html">$1,000</option>
                            <option value="5000" data-link="$5000.html">$5,000</option>
                            <option value="10000" data-link="$10000.html">$10,000</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section class="about">
        <div class="container">
            <div class="about-content">
                <h2>About Futures Trading</h2>
                <p>Futures Trading is a leading investment platform specializing in commodities, currencies, and index futures. Our team of professional traders uses advanced algorithms and market analysis to generate consistent returns for our investors.</p>
                <p>With years of experience in the financial markets, we've developed strategies that capitalize on market movements while managing risk effectively. Our transparent investment plans allow you to grow your wealth with confidence.</p>
            </div>
        </div>
    </section>
    
    <section class="testimonials">
        <div class="container">
            <h2>What Our Investors Say</h2>
            <div class="testimonial-grid">
                <div class="testimonial-card">
                    <p class="testimonial-text">"I started with the Basic Plan and was amazed by the returns. Now I'm investing in the Premium Plan and my portfolio has grown significantly."</p>
                    <p class="testimonial-author">- Michael T.</p>
                </div>
                <div class="testimonial-card">
                    <p class="testimonial-text">"The withdrawal process is incredibly fast. I received my profits within hours of requesting. Highly recommend Futures Trading!"</p>
                    <p class="testimonial-author">- Sarah K.</p>
                </div>
                <div class="testimonial-card">
                    <p class="testimonial-text">"As someone new to investing, I appreciate how simple and straightforward the platform is. The returns speak for themselves."</p>
                    <p class="testimonial-author">- David R.</p>
                </div>
            </div>
        </div>
    </section>
    
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="terms of service.html" class="footer-link">Terms of Service</a>
                <a href="Privacy Policy.html" class="footer-link">Privacy Policy</a>
                <a href="mailto:futurestradinginvestment.org@gmail.com" class="footer-link">Contact Us</a>
            </div>
            <p class="copyright">© 2023 Futures Trading. All rights reserved.</p>
        </div>
    </footer>

    <div class="chatbot-container">
        <button class="chatbot-toggle" id="chatbotToggle" title="Open Chat">🤖</button>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <span>Investment Assistant</span>
                <button class="chatbot-close" id="chatbotClose">✖</button>
            </div>
            <div class="chatbot-body" id="chatbotBody">
                <div class="chatbot-message bot-message">Hello! How can I assist you today? Please enter a number to select an option:<br>1. What is the Basic Plan?<br>2. What is the Standard Plan?<br>3. What is the Premium Plan?<br>4. What is the Platinum Plan?<br>5. How do I invest?<br>6. How do I withdraw funds?<br>7. What are the key features of the platform?<br>8. About Futures Trading<br>9. How can I contact customer service?</div>
            </div>
            <div class="chatbot-input">
                <input type="number" id="chatbotInput" placeholder="Enter 1-9" min="1" max="9">
                <button id="chatbotSend">Send</button>
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <a href="home.html" class="nav-item active">
            <div class="nav-icon">🏠</div>
            <span>Home</span>
        </a>
        <a href="market.html" class="nav-item">
            <div class="nav-icon">📈</div>
            <span>Markets</span>
        </a>
        <a href="profile.html" class="nav-item">
            <div class="nav-icon">👤</div>
            <span>Me</span>
        </a>
    </div>

    <div id="online-popup"></div>

    <script>
        // Random names array (unchanged)
        const names = [
            "Liam", "Noah", "Oliver", "Theodore", "James", "Henry", "Mateo", "Elijah", "Lucas", "William",
            "Olivia", "Emma", "Amelia", "Charlotte", "Mia", "Sophia", "Isabella", "Evelyn", "Ava", "Sofia"
        ];

        // Generate random number
        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // Generate withdrawal chain
        function generateWithdrawalChain() {
            const chainLength = getRandomNumber(5, 10);
            const uniqueNames = names.sort(() => 0.5 - Math.random()).slice(0, chainLength);
            let chain = '';
            for (let i = 0; i < chainLength; i++) {
                const name = uniqueNames[i];
                const amount = getRandomNumber(8, 500);
                chain += `${name} withdraws $${amount} | `;
            }
            return chain.slice(0, -2);
        }

        // Update marquee
        function updateMarquee() {
            const marquee = document.getElementById('withdrawal-marquee');
            if (marquee) {
                marquee.textContent = generateWithdrawalChain();
            } else {
                console.error('Marquee element not found');
            }
        }

        // Online users pop-up
        function showOnlinePopup() {
            const popup = document.getElementById('online-popup');
            if (popup) {
                const onlineCount = getRandomNumber(950, 1050);
                popup.textContent = `${onlineCount} users online now!`;
                popup.style.display = 'block';
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 3000);
            } else {
                console.error('Online popup element not found');
            }
        }

        // Toggle auth buttons
        function toggleAuthButtons() {
            try {
                const authButtons = document.getElementById('authButtons');
                if (!authButtons) {
                    console.error('authButtons element not found');
                    return;
                }
                console.log('toggleAuthButtons called, current display:', authButtons.style.display);
                if (authButtons.style.display === 'flex') {
                    authButtons.style.display = 'none';
                    authButtons.classList.remove('show');
                } else {
                    authButtons.style.display = 'flex';
                    authButtons.classList.add('show');
                }
                console.log('After toggle, display:', authButtons.style.display, 'show class:', authButtons.classList.contains('show'));
            } catch (error) {
                console.error('Error in toggleAuthButtons:', error);
            }
        }
        
        // Toggle investment dropdown
        function toggleDropdown(dropdownId) {
            try {
                const dropdown = document.getElementById(dropdownId);
                if (!dropdown) {
                    console.error(`Dropdown ${dropdownId} not found`);
                    return;
                }
                if (dropdown.style.display === 'block') {
                    dropdown.style.display = 'none';
                } else {
                    document.querySelectorAll('.amount-dropdown').forEach(dd => {
                        dd.style.display = 'none';
                    });
                    dropdown.style.display = 'block';
                }
            } catch (error) {
                console.error('Error in toggleDropdown:', error);
            }
        }
        
        // Redirect to payment page
        function redirectToPayment(selectElement) {
            try {
                if (selectElement.value) {
                    const selectedOption = selectElement.options[selectElement.selectedIndex];
                    const paymentLink = selectedOption.getAttribute('data-link');
                    if (paymentLink) {
                        window.location.href = paymentLink;
                    } else {
                        console.error('Payment link not found for selected option');
                    }
                }
            } catch (error) {
                console.error('Error in redirectToPayment:', error);
            }
        }

        // Handle logged-in state
        function showWelcome() {
            try {
                const authButtons = document.getElementById('authButtons');
                const menuToggle = document.getElementById('menu-toggle');
                
                if (authButtons && menuToggle) {
                    authButtons.style.display = 'none';
                    menuToggle.style.display = 'none';
                    console.log('Logged-in state applied: auth buttons and menu hidden');
                } else {
                    console.error('One or more elements for showWelcome not found');
                }
            } catch (error) {
                console.error('Error in showWelcome:', error);
            }
        }
        
        // Close dropdowns and auth buttons on outside click
        document.addEventListener('click', function(event) {
            try {
                const authButtons = document.getElementById('authButtons');
                const menuToggle = document.getElementById('menu-toggle');
                if (!authButtons || !menuToggle) {
                    console.error('authButtons or menuToggle not found in outside click handler');
                    return;
                }
                if (!menuToggle.contains(event.target) && !authButtons.contains(event.target)) {
                    authButtons.style.display = 'none';
                    authButtons.classList.remove('show');
                    console.log('Outside click, authButtons hidden, display:', authButtons.style.display);
                }
                if (!event.target.matches('.invest-button') && !event.target.matches('.amount-dropdown')) {
                    document.querySelectorAll('.amount-dropdown').forEach(dropdown => {
                        dropdown.style.display = 'none';
                    });
                }
            } catch (error) {
                console.error('Error in outside click handler:', error);
            }
        });

        // News sidebar slider
        let slideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const slider = document.querySelector('.slider');

        function updateSlider() {
            try {
                if (!slider || slides.length === 0) {
                    console.error('Slider or slides not found');
                    return;
                }
                const slideWidth = slides[0].offsetWidth;
                slider.style.transform = `translateX(-${slideIndex * slideWidth}px)`;
            } catch (error) {
                console.error('Error in updateSlider:', error);
            }
        }

        function showNextSlide() {
            try {
                if (slides.length === 0) {
                    console.error('No slides available');
                    return;
                }
                slideIndex = (slideIndex + 1) % slides.length;
                updateSlider();
            } catch (error) {
                console.error('Error in showNextSlide:', error);
            }
        }

        // Chatbot functionality
        function addMessage(content, type) {
            try {
                const chatbotBody = document.getElementById('chatbotBody');
                if (!chatbotBody) {
                    console.error('chatbotBody not found');
                    return;
                }
                const message = document.createElement('div');
                message.classList.add('chatbot-message', type);
                message.innerHTML = content.replace(/\n/g, '<br>');
                chatbotBody.appendChild(message);
                chatbotBody.scrollTop = chatbotBody.scrollHeight;
            } catch (error) {
                console.error('Error in addMessage:', error);
            }
        }

        function handleUserInput() {
            try {
                const chatbotInput = document.getElementById('chatbotInput');
                if (!chatbotInput) {
                    console.error('chatbotInput not found');
                    return;
                }
                const userInput = chatbotInput.value.trim();
                if (!userInput || isNaN(userInput) || userInput < 1 || userInput > 9) {
                    addMessage('Please enter a valid number between 1 and 9.', 'bot-message');
                    chatbotInput.value = '';
                    chatbotInput.focus();
                    return;
                }

                addMessage(userInput, 'user-message');
                chatbotInput.value = '';

                const responses = {
                    '1': `The Basic Plan is a 7-day investment option with amounts from $5 to $20. It offers a daily return of 5.72%, resulting in a total return of 40% after 7 days.<br>Type a number (1-9) to return to the main menu.`,
                    '2': `The Standard Plan is a 14-day investment option with amounts from $30 to $60. It offers a daily return of 7.15%, resulting in a total return of 100% after 14 days.<br>Type a number (1-9) to return to the main menu.`,
                    '3': `The Premium Plan is a 30-day investment option with amounts from $70 to $100. It offers a daily return of 9.17%, resulting in a total return of 275% after 30 days.<br>Type a number (1-9) to return to the main menu.`,
                    '4': `The Platinum Plan is a 21-day investment option with amounts from $500 to $10,000. It offers a daily return of 20%, resulting in a total return of 420% after 21 days.<br>Type a number (1-9) to return to the main menu.`,
                    '5': `To invest, scroll to the Investment Plans section, choose a plan, click "Invest Now", select an amount from the dropdown, and you will be redirected to the payment page.<br>Type a number (1-9) to return to the main menu.`,
                    '6': `Withdrawals are processed quickly after your investment period ends. Visit your profile to request withdrawals via Cryptocurrency or Bank Transfer.<br>Type a number (1-9) to return to the main menu.`,
                    '7': `Key features include high returns through market analysis, a secure platform, fast withdrawals, transparent plans, and 24/7 customer support.<br>Type a number (1-9) to return to the main menu.`,
                    '8': `Futures Trading is a leading investment platform specializing in commodities, currencies, and index futures. We offer transparent plans to grow your wealth securely.<br>Type a number (1-9) to return to the main menu.`,
                    '9': `Contact customer service via email at futurestradinginvestment.org@gmail.com`
                };

                const response = responses[userInput];
                if (response) addMessage(response, 'bot-message');
                chatbotInput.focus();
            } catch (error) {
                console.error('Error in handleUserInput:', error);
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOMContentLoaded fired');

            // Menu toggle event listener
            const menuToggle = document.getElementById('menu-toggle');
            if (menuToggle) {
                menuToggle.addEventListener('click', (event) => {
                    console.log('Menu toggle clicked');
                    toggleAuthButtons();
                });
                menuToggle.addEventListener('touchstart', (event) => {
                    console.log('Menu toggle touched');
                    toggleAuthButtons();
                });
            } else {
                console.error('menu-toggle element not found');
            }

            // Marquee and online popup
            try {
                updateMarquee();
                setInterval(updateMarquee, 60000);
                showOnlinePopup();
                setInterval(showOnlinePopup, 120000);
            } catch (error) {
                console.error('Error in marquee or popup initialization:', error);
            }

            // Chatbot event listeners
            try {
                const chatbotToggle = document.getElementById('chatbotToggle');
                const chatbotWindow = document.getElementById('chatbotWindow');
                const chatbotClose = document.getElementById('chatbotClose');
                const chatbotSend = document.getElementById('chatbotSend');
                const chatbotInput = document.getElementById('chatbotInput');

                if (chatbotToggle && chatbotWindow && chatbotClose && chatbotSend && chatbotInput) {
                    chatbotToggle.addEventListener('click', () => {
                        chatbotWindow.style.display = chatbotWindow.style.display === 'block' ? 'none' : 'block';
                        if (chatbotWindow.style.display === 'block') {
                            document.getElementById('chatbotBody').innerHTML = '<div class="chatbot-message bot-message">Hello! How can I assist you today? Please enter a number to select an option:<br>1. What is the Basic Plan?<br>2. What is the Standard Plan?<br>3. What is the Premium Plan?<br>4. What is the Platinum Plan?<br>5. How do I invest?<br>6. How do I withdraw funds?<br>7. What are the key features of the platform?<br>8. About Futures Trading<br>9. How can I contact customer service?</div>';
                            chatbotInput.focus();
                        }
                    });

                    chatbotClose.addEventListener('click', () => {
                        chatbotWindow.style.display = 'none';
                    });

                    chatbotSend.addEventListener('click', handleUserInput);
                    chatbotInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') handleUserInput();
                    });
                } else {
                    console.error('One or more chatbot elements not found');
                }
            } catch (error) {
                console.error('Error in chatbot initialization:', error);
            }

            // News sidebar slider
            try {
                window.addEventListener('resize', updateSlider);
                setInterval(showNextSlide, 3000);
                updateSlider();
            } catch (error) {
                console.error('Error in slider initialization:', error);
            }

            // Handle user login state
            try {
                const loggedInUser = localStorage.getItem('loggedInUser');
                if (loggedInUser) {
                    showWelcome();
                } else {
                    const menuToggle = document.getElementById('menu-toggle');
                    const authButtons = document.getElementById('authButtons');
                    if (menuToggle && authButtons) {
                        menuToggle.style.display = 'flex';
                        authButtons.style.display = 'none';
                    } else {
                        console.error('menuToggle or authButtons not found in login state check');
                    }
                }
            } catch (error) {
                console.error('Error in login state check:', error);
            }

            // Dynamic navigation active state
            try {
                const navItems = document.querySelectorAll('.nav-item');
                const currentPage = window.location.pathname.split('/').pop() || 'home.html';
                navItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('href') === currentPage) {
                        item.classList.add('active');
                    }
                });
            } catch (error) {
                console.error('Error in navigation active state:', error);
            }
        });
    </script>
</body>
</html>